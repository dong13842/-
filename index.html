<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>可愛日常管家</title>
  <link rel="stylesheet" href="style.css">
  <!-- Firebase CDN -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
</head>
<body>
  <!-- 導覽欄 -->
  <nav class="navbar">
    <ul>
      <li><a href="#home">首頁</a></li>
      <li><a href="#cards">浮動小卡</a></li>
      <li><a href="#calendar">月曆</a></li>
      <li><a href="#todo">代辦事項</a></li>
    </ul>
  </nav>

  <!-- 首頁 -->
  <section id="home" class="page">
    <div class="welcome">
      <h1>歡迎使用可愛日常管家！</h1>
      <p>讓我陪你一起規劃生活，每天都充滿動力！</p>
      <button id="start-btn" class="cute-btn" onclick="document.getElementById('cards').scrollIntoView({behavior:'smooth'})">開始使用</button>
    </div>
  </section>

  <!-- 浮動小卡 -->
  <section id="cards" class="page" style="position: relative;">
    <!-- 新增煙火容器 -->
    <div class="cards-container">
      <!-- 年度目標小卡 -->
      <div class="card cute-card" id="goal-card" style="position: relative;">
        <div id="fireworks-container"></div>
        <h2>🎯 年度目標</h2>
        <div class="goal-input-group" id="goal-input-group">
          <label><span class="crown">👑</span><input type="text" class="goal-input" id="goal-input-1" placeholder="目標一..."></label>
          <label><span class="crown">👑</span><input type="text" class="goal-input" id="goal-input-2" placeholder="目標二..."></label>
          <label><span class="crown">👑</span><input type="text" class="goal-input" id="goal-input-3" placeholder="目標三..."></label>
        </div>
        <ul class="goal-display-list" id="goal-display-list" style="display:none; width:100%;"></ul>
        <button class="cute-btn" id="save-goal">儲存目標</button>
      </div>
      <!-- 天氣小卡 -->
      <div class="card cute-card" id="weather-card">
        <h2>☀️ 天氣</h2>
        <div id="weather-info">
          <span id="weather-location">定位中...</span><br>
          <span id="weather-desc"></span>
        </div>
      </div>
      <!-- 今日代辦小卡 -->
      <div class="card cute-card" id="today-todo-card">
        <h2>📝 今日代辦</h2>
        <ul id="today-todo-list"></ul>
      </div>
    </div>
  </section>

  <!-- 月曆 -->
  <section id="calendar" class="page">
    <div class="calendar-wrapper">
      <!-- 左：月曆 -->
      <div class="calendar-left">
        <div class="calendar-header">
          <button id="prev-month" class="calendar-nav-btn">←</button>
          <span id="calendar-title"></span>
          <button id="next-month" class="calendar-nav-btn">→</button>
        </div>
        <div id="calendar"></div>
      </div>
      <!-- 右：新增事項 -->
      <div class="calendar-right">
        <h2>新增事項</h2>
        <form id="calendar-todo-form">
          <label>日期
            <input type="date" id="calendar-date" required>
          </label>
          <label>事項
            <input type="text" id="calendar-todo" maxlength="20" required>
          </label>
          <button class="cute-btn" type="submit">新增</button>
        </form>
        <div id="calendar-todo-list"></div>
      </div>
    </div>
  </section>

  <!-- 代辦事項 -->
  <section id="todo" class="page">
    <div class="todo-main-flex">
      <!-- 左：浮動番茄鐘 -->
      <div class="pomodoro-box">
        <div class="pomodoro-section">
          <div class="tomato" id="tomato">
            <div class="leaf"></div>
            <div class="face">
              <div class="eyes">
                <div class="eye"></div>
                <div class="eye"></div>
              </div>
            </div>
            <div class="timer-text" id="pomodoro-timer">50:00</div>
          </div>

          <div class="pomo-settings-row">
            <div class="pomo-setting-col">
              <span class="pomo-label">工作</span>
              <button class="pomo-mini-btn" id="work-minus">−</button>
              <span class="pomo-num" id="work-minutes">50</span>
              <button class="pomo-mini-btn" id="work-plus">＋</button>
              <span class="pomo-unit">分鐘</span>
            </div>
            <div class="pomo-setting-col">
              <span class="pomo-label">休息</span>
              <button class="pomo-mini-btn" id="rest-minus">−</button>
              <span class="pomo-num" id="rest-minutes">10</span>
              <button class="pomo-mini-btn" id="rest-plus">＋</button>
              <span class="pomo-unit">分鐘</span>
            </div>
            <div class="pomo-setting-col">
              <span class="pomo-label">循環</span>
              <button class="pomo-mini-btn" id="cycle-minus">−</button>
              <span class="pomo-num" id="cycle-times">1</span>
              <button class="pomo-mini-btn" id="cycle-plus">＋</button>
              <span class="pomo-unit">次</span>
            </div>
          </div>
          <div style="text-align:center; margin-top:24px;">
            <button class="cute-btn" id="pomodoro-start">開始</button>
            <button class="cute-btn" id="pomodoro-pause">暫停</button>
            <button class="cute-btn" id="pomodoro-reset">重置</button>
          </div>
        </div>
      </div>
      <!-- 右：新增代辦 -->
      <div class="todo-container">
        <form id="todo-form">
          <input type="text" id="todo-input" placeholder="新增代辦事項..." maxlength="30" required>
          <button class="cute-btn" type="submit">新增</button>
        </form>
        <ul id="todo-list"></ul>
      </div>
    </div>
  </section>
  <script src="script.js"></script>
</body>
</html>